<head>
<title>Matter.js Basics Tutorial</title>
<meta name="author" content="John Day">
<script src="js/lib/matter.js"></script>
<script src="js/alias.js"></script>
<script src="js/lemming.js"></script>
<script src="js/grid.js"></script>
<script src="js/index.js"></script>

</head>
<body>
  <script>

    // create an engine
    var engine = Engine.create();

    // create a renderer
    var render = Render.create({
        element: document.body,
        engine: engine,
        options: {
          width: canvasSize.width,
          height: canvasSize.height,
          wireframes: false
      }
    });

    Events.on(engine, 'collisionStart', function(event){
      if (lemming.shape.velocity.x >= 0) {
        Matter.Body.setVelocity(lemming.shape, { x: 2, y: -0.5 })
      };
      if (lemming.shape.velocity.x < 0) {
        Matter.Body.setVelocity(lemming.shape, { x: -2, y: -0.5})
      };    });


    var layerNodes = 40;
    var layers = 20;
    var grid = new Grid(layerNodes, layers);

    grid.generateBucket();
    grid.entranceBlock(2, 10);
    grid.exitBlock(37, 1);
    for (var i = 0; i < 10; i++) {
      setTimeout(function(){var lemming = new Lemming(grid.spawn)}, i * 1000)

    };

    for (var i = 0; i < 10; i++) {
      setTimeout(function() {
        var lemming = new Lemming(grid.spawn);
      }, i*1000);
    }

    run();
  </script>
</body>
</html>
